<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Genu√≠no Burguer | Delivery</title>
    
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/3075/3075977.png" type="image/png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary-color: #ea1d2c; /* Vermelho iFood */
            --primary-dark: #c91826;
            --background-app: #f2f2f2; /* Fundo cinza claro geral */
            --background-white: #ffffff;
            --text-dark: #2d2d2d; /* Texto quase preto */
            --text-medium: #717171; /* Texto cinza m√©dio */
            --text-light: #a6a6a6; /* Texto cinza claro */
            --border-light: #f2f2f2;
            --shadow-soft: 0 2px 10px rgba(0,0,0,0.05);
            --shadow-hover: 0 5px 15px rgba(0,0,0,0.1);
            --radius-md: 8px;
            --radius-lg: 12px;
            --transition-speed: 0.2s ease;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Roboto', sans-serif;
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }

        html { scroll-behavior: smooth; }

        body {
            background-color: var(--background-app);
            color: var(--text-dark);
            padding-bottom: 70px; /* Espa√ßo para menu inferior */
            overflow-x: hidden;
        }

        /* Container Principal - Centralizado em telas grandes */
        #app-container {
            max-width: 500px;
            margin: 0 auto;
            background: var(--background-white);
            min-height: 100vh;
            position: relative;
            box-shadow: var(--shadow-soft);
        }

        /* --- HEADER & TOPO --- */
        .sticky-header-container {
            position: sticky;
            top: 0;
            z-index: 100;
            background: var(--background-white);
        }

        header {
            padding: 15px 20px;
            background: var(--background-white);
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .location-selector {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 5px 0;
            transition: opacity var(--transition-speed);
        }
        .location-selector:active { opacity: 0.6; }
        .location-selector span { color: var(--primary-color); font-weight: 700; }

        .header-icons i {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-left: 15px;
            cursor: pointer;
            transition: transform var(--transition-speed);
        }
        .header-icons i:active { transform: scale(0.9); }

        /* Banner da Loja */
        .store-banner {
            display: flex;
            align-items: center;
            gap: 15px;
            padding-bottom: 10px;
        }

        .store-logo-img {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            object-fit: cover;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-soft);
        }

        .store-info h1 {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .store-metrics {
            display: flex;
            gap: 8px;
            font-size: 0.8rem;
            color: var(--text-medium);
            align-items: center;
        }
        .metric-separator { color: var(--text-light); font-size: 0.6rem; }

        .ifood-partner-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background: #fef3f4;
            color: var(--primary-color);
            padding: 4px 8px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.75rem;
            margin-top: 8px;
        }
        .ifood-partner-badge img { width: 16px; height: auto; }

        /* --- CATEGORIAS (Sticky Scroll) --- */
        .categories-scroll-container {
            background: var(--background-white);
            padding: 10px 20px 15px 20px;
            border-bottom: 1px solid var(--border-light);
            box-shadow: 0 4px 10px -5px rgba(0,0,0,0.05);
        }

        .categories-list {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE/Edge */
            padding-right: 20px; /* Espa√ßo final scroll */
        }
        .categories-list::-webkit-scrollbar { display: none; } /* Chrome/Safari */

        .cat-item {
            min-width: 85px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: transform var(--transition-speed);
        }

        .cat-item:active { transform: scale(0.95); }

        .cat-img-wrapper {
            width: 75px;
            height: 55px;
            border-radius: var(--radius-md);
            overflow: hidden;
            position: relative;
        }

        .cat-img-wrapper::after {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.03); /* Overlay sutil */
            transition: background var(--transition-speed);
        }

        .cat-item.active .cat-img-wrapper::after { background: rgba(234, 29, 44, 0.1); }
        .cat-item.active .cat-img-wrapper { border: 2px solid var(--primary-color); }

        .cat-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cat-name {
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-medium);
            transition: color var(--transition-speed);
            text-align: center;
        }
        
        .cat-item.active .cat-name {
            color: var(--primary-color);
            font-weight: 700;
        }

        /* --- LISTA DE PRODUTOS --- */
        .menu-section-container {
            padding: 20px;
            background: var(--background-white);
        }

        .section-title-heading {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-dark);
        }

        .product-card-item {
            display: flex;
            justify-content: space-between;
            border-bottom: 1px solid var(--border-light);
            padding: 18px 0;
            cursor: pointer;
            transition: background-color var(--transition-speed);
            position: relative;
        }

        /* Efeito de toque no mobile e hover no desktop */
        .product-card-item:active { background-color: #f9f9f9; }
        @media (hover: hover) {
            .product-card-item:hover { background-color: #f9f9f9; }
        }

        .prod-info-block {
            flex: 1;
            padding-right: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .prod-title-text {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 6px;
            color: var(--text-dark);
        }

        .prod-desc-text {
            font-size: 0.85rem;
            color: var(--text-medium);
            line-height: 1.4;
            margin-bottom: 10px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .prod-price-text {
            font-size: 1rem;
            color: var(--text-dark);
            font-weight: 500;
        }

        .prod-image-block {
            width: 110px;
            height: 90px;
            border-radius: var(--radius-lg);
            overflow: hidden;
            flex-shrink: 0;
            box-shadow: var(--shadow-soft);
        }

        .prod-image-block img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform var(--transition-speed);
        }
        /* Zoom sutil no hover desktop */
        @media (hover: hover) {
            .product-card-item:hover .prod-image-block img { transform: scale(1.05); }
        }

        /* --- MODAL DE PRODUTO --- */
        #product-modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            display: none; /* Flex quando ativo */
            align-items: flex-end;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        #product-modal-overlay.active { opacity: 1; }

        .modal-sheet-content {
            background: var(--background-white);
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            border-radius: 20px 20px 0 0;
            max-height: 92vh;
            overflow-y: auto;
            position: relative;
            transform: translateY(100%);
            transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); /* Efeito el√°stico suave */
        }
        #product-modal-overlay.active .modal-sheet-content { transform: translateY(0); }

        .close-modal-btn {
            position: absolute;
            top: 15px; right: 15px;
            background: var(--background-white);
            width: 35px; height: 35px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: var(--shadow-soft);
            cursor: pointer; z-index: 10;
            color: var(--text-dark);
        }

        .modal-hero-img {
            width: 100%;
            height: 220px;
            object-fit: cover;
        }

        .modal-body-padding { padding: 20px; }

        .modal-prod-title { font-size: 1.4rem; font-weight: 700; margin-bottom: 8px; }
        .modal-prod-desc { color: var(--text-medium); font-size: 0.95rem; line-height: 1.5; margin-bottom: 25px; }

        .addons-container { margin-bottom: 25px; }
        .addons-header {
            background: var(--background-app);
            padding: 12px 20px;
            margin: 0 -20px 15px -20px; /* Esticar at√© as bordas */
        }
        .addons-header h4 { font-size: 1rem; color: var(--text-dark); font-weight: 700; }
        .addons-header p { font-size: 0.85rem; color: var(--text-medium); }

        .addon-option-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border-light);
        }

        .addon-label-group { display: flex; align-items: center; gap: 12px; }
        
        /* Checkbox customizado estilo iFood */
        .custom-checkbox {
            width: 22px; height: 22px;
            border: 2px solid #ddd;
            border-radius: 4px;
            display: flex; align-items: center; justify-content: center;
            transition: all var(--transition-speed);
        }
        .addon-option-item input:checked + .custom-checkbox {
            background: var(--primary-color);
            border-color: var(--primary-color);
        }
        .custom-checkbox i { color: white; font-size: 0.8rem; display: none; }
        .addon-option-item input:checked + .custom-checkbox i { display: block; }
        
        .addon-name { font-size: 1rem; font-weight: 500; }
        .addon-price-tag { color: var(--text-medium); font-size: 0.95rem; }

        .obs-textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: var(--radius-md);
            resize: none;
            font-family: inherit;
            margin-bottom: 20px;
        }
        .obs-textarea:focus { border-color: var(--primary-color); }

        /* Footer do Modal (Bot√µes de A√ß√£o) */
        .modal-actions-footer {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            border-top: 1px solid var(--border-light);
            background: var(--background-white);
            position: sticky; bottom: 0;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            border: 1px solid #ddd;
            border-radius: var(--radius-md);
            padding: 8px;
            gap: 15px;
        }
        .qty-btn-action {
            font-size: 1.2rem;
            color: var(--primary-color);
            cursor: pointer;
            width: 30px; height: 30px;
            display: flex; align-items: center; justify-content: center;
            border-radius: 4px;
            transition: background var(--transition-speed);
        }
        .qty-btn-action:active { background: #fef3f4; }
        .qty-display-num { font-weight: 600; font-size: 1.1rem; min-width: 24px; text-align: center; }

        .add-to-cart-btn {
            flex: 1;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 15px;
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: background var(--transition-speed), transform var(--transition-speed);
        }
        .add-to-cart-btn:active { background: var(--primary-dark); transform: scale(0.98); }

        /* --- BARRA FLUTUANTE DO CARRINHO --- */
        #floating-cart-bar {
            position: fixed;
            bottom: 75px; /* Acima da navega√ß√£o inferior */
            left: 50%;
            transform: translateX(-50%) translateY(100px); /* Come√ßa escondido embaixo */
            width: 92%;
            max-width: 460px;
            background: var(--primary-color);
            color: white;
            padding: 14px 20px;
            border-radius: var(--radius-md);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 90;
            box-shadow: 0 8px 20px rgba(234, 29, 44, 0.3);
            cursor: pointer;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), background var(--transition-speed); /* Efeito "pop" */
        }
        #floating-cart-bar.visible { transform: translateX(-50%) translateY(0); }
        #floating-cart-bar:active { background: var(--primary-dark); }

        .cart-icon-counter {
            background: rgba(0,0,0,0.15);
            min-width: 28px; height: 28px;
            padding: 0 5px;
            display: flex; align-items: center; justify-content: center;
            border-radius: 50%;
            font-weight: 700; font-size: 0.9rem;
            margin-right: 12px;
        }

        /* --- NAVEGA√á√ÉO INFERIOR --- */
        .bottom-navigation-bar {
            position: fixed;
            bottom: 0; left: 0; width: 100%;
            background: var(--background-white);
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            border-top: 1px solid var(--border-light);
            z-index: 95;
            max-width: 500px;
            left: 50%; transform: translateX(-50%);
            box-shadow: 0 -2px 10px rgba(0,0,0,0.03);
        }

        .nav-tab-item {
            display: flex; flex-direction: column; align-items: center;
            font-size: 0.7rem; color: var(--text-medium);
            cursor: pointer;
            padding: 5px 15px;
            border-radius: var(--radius-lg);
            transition: all var(--transition-speed);
        }
        .nav-tab-item i { font-size: 1.3rem; margin-bottom: 5px; }
        .nav-tab-item.active { color: var(--text-dark); }
        .nav-tab-item.active i { color: var(--text-dark); }
        .nav-tab-item:active { background: var(--background-app); }

        /* --- TELA DE CHECKOUT (Sacola) --- */
        #checkout-overlay-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--background-app); /* Fundo cinza */
            z-index: 2000;
            display: none; /* Flex quando ativo */
            flex-direction: column;
            opacity: 0; transition: opacity 0.3s ease;
        }
        #checkout-overlay-screen.active { opacity: 1; }

        .checkout-navbar {
            background: var(--background-white);
            padding: 15px 20px;
            display: flex; align-items: center;
            box-shadow: var(--shadow-soft);
        }
        .checkout-navbar h2 { margin-left: 20px; font-size: 1.1rem; }

        .checkout-content-scroll {
            flex: 1; overflow-y: auto;
            padding: 20px;
        }

        .checkout-card-box {
            background: var(--background-white);
            border-radius: var(--radius-md);
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: var(--shadow-soft);
        }

        .cart-product-row {
            display: flex; justify-content: space-between;
            margin-bottom: 15px; padding-bottom: 15px;
            border-bottom: 1px solid var(--border-light);
        }
        .cart-product-row:last-child { border-bottom: none; padding-bottom: 0; margin-bottom: 0; }

        .summary-line-item {
            display: flex; justify-content: space-between;
            margin-bottom: 12px; font-size: 0.95rem; color: var(--text-medium);
        }
        .total-line-item {
            display: flex; justify-content: space-between;
            margin-top: 15px; padding-top: 15px;
            border-top: 1px solid var(--border-light);
            font-weight: 700; font-size: 1.2rem; color: var(--text-dark);
        }

        .whatsapp-checkout-btn {
            background: #25D366; /* Verde WhatsApp */
            color: white;
            text-align: center;
            padding: 18px;
            margin: 0 20px 20px 20px;
            border-radius: var(--radius-md);
            font-weight: 700; font-size: 1.1rem;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
            transition: transform var(--transition-speed);
        }
        .whatsapp-checkout-btn:active { transform: scale(0.98); }

        /* --- TELA DE PERFIL (Simulada) --- */
        #profile-tab-screen {
            display: none;
            background: var(--background-app);
            min-height: 100vh;
        }
        .profile-header-block {
            background: var(--background-white);
            padding: 30px 20px;
            display: flex; align-items: center; gap: 20px;
            margin-bottom: 15px;
        }
        .profile-avatar-circle {
            width: 70px; height: 70px;
            background: var(--border-light);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.8rem; color: var(--text-light);
        }
        .profile-menu-list { background: var(--background-white); }
        .profile-menu-link {
            display: flex; align-items: center; gap: 20px;
            padding: 18px 20px;
            border-bottom: 1px solid var(--border-light);
            font-size: 1rem; color: var(--text-dark);
            cursor: pointer; transition: background var(--transition-speed);
        }
        .profile-menu-link:active { background: var(--background-app); }
        .profile-menu-link i { color: var(--text-medium); width: 25px; text-align: center; }

        /* Utilit√°rios */
        .text-primary { color: var(--primary-color) !important; }
        .hidden { display: none !important; }

    </style>
</head>
<body>

    <div id="app-container">
        
        <div id="home-tab-screen">
            
            <div class="sticky-header-container">
                <header>
                    <div class="header-top">
                        <div class="location-selector">
                            <span>BH Shopping</span> <i class="fas fa-chevron-down" style="font-size: 0.8rem; margin-top: 2px;"></i>
                        </div>
                        <div class="header-icons">
                            <i class="far fa-bell"></i>
                        </div>
                    </div>
                    
                    <div class="store-banner">
                        <img src="https://cdn-icons-png.flaticon.com/512/3075/3075977.png" alt="Genu√≠no Logo" class="store-logo-img">
                        
                        <div class="store-info">
                            <h1>Genu√≠no Burguer</h1>
                            <div class="store-metrics">
                                <span><i class="fas fa-star" style="color: #fcbb00; font-size: 0.9rem;"></i> 4.9</span>
                                <span class="metric-separator">‚Ä¢</span>
                                <span>Lanches</span>
                                <span class="metric-separator">‚Ä¢</span>
                                <span>30-45 min</span>
                            </div>
                            <div class="ifood-partner-badge">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Ifood_logo.svg/2560px-Ifood_logo.svg.png" alt="iFood Parceiro">
                                <span>Entrega Parceira</span>
                            </div>
                        </div>
                    </div>
                </header>

                <div class="categories-scroll-container">
                    <div class="categories-list">
                        </div>
                </div>
            </div>

            <div id="menu-products-list" class="menu-section-container">
                </div>
            
            <div style="height: 80px;"></div>
        </div>

        <div id="profile-tab-screen">
            <div class="profile-header-block">
                <div class="profile-avatar-circle"><i class="fas fa-user"></i></div>
                <div>
                    <h3 style="font-size: 1.3rem; margin-bottom: 5px;">Visitante Genu√≠no</h3>
                    <span style="color: var(--primary-color); font-weight: 500;">Editar perfil</span>
                </div>
            </div>
            <div class="profile-menu-list">
                <div class="profile-menu-link">
                    <i class="fas fa-ticket-alt"></i> Cupons
                </div>
                <div class="profile-menu-link">
                    <i class="fas fa-wallet"></i> Carteira
                </div>
                <div class="profile-menu-link">
                    <i class="far fa-heart"></i> Favoritos
                </div>
                <div class="profile-menu-link">
                    <i class="fas fa-map-marker-alt"></i> Endere√ßos
                </div>
                <div class="profile-menu-link" style="border-bottom: none;">
                    <i class="far fa-question-circle"></i> Ajuda
                </div>
            </div>
        </div>

        <div id="floating-cart-bar" onclick="openCheckoutScreen()">
            <div style="display: flex; align-items: center;">
                <div class="cart-icon-counter" id="cart-count-badge">0</div>
                <span style="font-weight: 600;">Ver sacola</span>
            </div>
            <span id="cart-total-badge" style="font-weight: 700; font-size: 1.05rem;">R$ 0,00</span>
        </div>

        <nav class="bottom-navigation-bar">
            <div class="nav-tab-item active" onclick="switchMainTab('home')">
                <i class="fas fa-home"></i>
                <span>In√≠cio</span>
            </div>
            <div class="nav-tab-item">
                <i class="fas fa-search"></i>
                <span>Busca</span>
            </div>
            <div class="nav-tab-item">
                <i class="fas fa-receipt"></i>
                <span>Pedidos</span>
            </div>
            <div class="nav-tab-item" onclick="switchMainTab('profile')">
                <i class="far fa-user"></i>
                <span>Perfil</span>
            </div>
        </nav>

        <div id="product-modal-overlay">
            <div class="modal-sheet-content">
                <div class="close-modal-btn" onclick="closeModalAction()"><i class="fas fa-times"></i></div>
                
                <img src="" id="modal-hero-image" class="modal-hero-img" alt="Produto">
                
                <div class="modal-body-padding">
                    <div id="modal-prod-title" class="modal-prod-title"></div>
                    <div id="modal-prod-desc" class="modal-prod-desc"></div>
                    <div id="modal-base-price-hidden" class="hidden"></div> 

                    <div class="addons-container">
                        <div class="addons-header">
                            <h4>Adicione mais sabor</h4>
                            <p>Escolha at√© 5 op√ß√µes</p>
                        </div>
                        <div id="addons-options-list">
                            </div>
                    </div>

                    <div class="addons-container">
                        <div class="addons-header">
                            <h4>Alguma observa√ß√£o?</h4>
                            <p>Ex: Tirar cebola, maionese √† parte...</p>
                        </div>
                        <textarea id="modal-obs-textarea" class="obs-textarea" rows="3" placeholder="Digite aqui sua observa√ß√£o..."></textarea>
                    </div>
                </div>

                <div class="modal-actions-footer">
                    <div class="quantity-selector">
                        <div class="qty-btn-action" onclick="changeModalQty(-1)"><i class="fas fa-minus" style="font-size: 0.9rem;"></i></div>
                        <span id="modal-qty-display" class="qty-display-num">1</span>
                        <div class="qty-btn-action" onclick="changeModalQty(1)"><i class="fas fa-plus" style="font-size: 0.9rem;"></i></div>
                    </div>
                    <button class="add-to-cart-btn" onclick="confirmAddToCart()">
                        <span>Adicionar</span>
                        <span id="modal-total-btn-price">R$ 0,00</span>
                    </button>
                </div>
            </div>
        </div>

        <div id="checkout-overlay-screen">
            <div class="checkout-navbar">
                <i class="fas fa-arrow-left" style="font-size: 1.2rem; cursor: pointer; color: var(--primary-color); padding: 5px;" onclick="closeCheckoutScreen()"></i>
                <h2>Sacola</h2>
            </div>
            
            <div class="checkout-content-scroll">
                <div class="checkout-card-box" style="display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <div style="font-weight: 700; margin-bottom: 5px; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-map-marker-alt text-primary"></i>
                             Entrega em BH Shopping
                        </div>
                        <p style="font-size: 0.9rem; color: var(--text-medium); margin-left: 24px;">Belo Horizonte, MG</p>
                    </div>
                    <span class="text-primary" style="font-weight: 600; font-size: 0.9rem;">Alterar</span>
                </div>

                <div class="checkout-card-box">
                    <h3 style="font-size: 1rem; margin-bottom: 15px;">Seus itens</h3>
                    <div id="checkout-cart-list">
                        </div>
                </div>

                <div class="checkout-card-box">
                    <h3 style="font-size: 1rem; margin-bottom: 15px;">Resumo de valores</h3>
                    <div class="summary-line-item">
                        <span>Subtotal</span>
                        <span id="checkout-subtotal">R$ 0,00</span>
                    </div>
                    <div class="summary-line-item">
                        <span>Taxa de entrega</span>
                        <span class="text-primary">Gr√°tis</span>
                    </div>
                    <div class="total-line-item">
                        <span>Total</span>
                        <span id="checkout-total-final">R$ 0,00</span>
                    </div>
                </div>
            </div>

            <div onclick="finalizeOrderWhatsApp()" class="whatsapp-checkout-btn">
                <i class="fab fa-whatsapp" style="font-size: 1.4rem;"></i>
                Fazer Pedido
            </div>
        </div>

    </div>

    <script>
        /* --- DADOS MOCKADOS (CARD√ÅPIO) --- */
        // Usei imagens de alta qualidade do Unsplash como placeholder.
        const categoriesData = [
            { id: 'all', name: 'Destaques', image: 'https://images.unsplash.com/photo-1513104890138-7c749659a591?w=150&h=150&fit=crop' },
            { id: 'burgers', name: 'Burgers', image: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=150&h=150&fit=crop' },
            { id: 'drinks', name: 'Bebidas', image: 'https://images.unsplash.com/photo-1437418747212-8d9709afab22?w=150&h=150&fit=crop' },
            { id: 'fries', name: 'Acompanha', image: 'https://images.unsplash.com/photo-1630384060421-a431e4fb256c?w=150&h=150&fit=crop' }
        ];

        const menuData = [
            {
                id: 1, category: 'burgers', title: 'Genu√≠no Classic',
                description: 'P√£o brioche selado, nosso blend suculento de 160g, queijo cheddar derretido, alface americana crocante, tomate e maionese especial da casa.',
                price: 28.00,
                image: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=500'
            },
            {
                id: 2, category: 'burgers', title: 'Double Bacon Smash',
                description: 'A pancada! Dois smash burgers de 80g, crosta perfeita, muito bacon caramelizado, dobro de cheddar e molho barbecue r√∫stico.',
                price: 35.90,
                image: 'https://images.unsplash.com/photo-1594212699903-ec8a3eca50f5?w=500'
            },
            {
                id: 3, category: 'burgers', title: 'Chicken Crispy Supreme',
                description: 'P√£o australiano macio, sobrecoxa de frango empanada ultra crocante, cream cheese Philadelphia e geleia de pimenta.',
                price: 32.50,
                image: 'https://images.unsplash.com/photo-1615557960916-5f4791effe9d?w=500'
            },
            {
                id: 4, category: 'drinks', title: 'Coca-Cola Original',
                description: 'Lata 350ml. Gelad√≠ssima.',
                price: 6.50,
                image: 'https://images.unsplash.com/photo-1622483767028-3f66f32aef97?w=500'
            },
            {
                id: 5, category: 'fries', title: 'Batata Genu√≠na com Cheddar e Bacon',
                description: 'Por√ß√£o generosa de batatas fritas sequinhas, cobertas com nosso creme de cheddar e farofa de bacon.',
                price: 22.00,
                image: 'https://images.unsplash.com/photo-1585109649139-366815a0d713?w=500'
            }
        ];

        const addonsData = [
            { id: 'bacon_extra', name: 'Bacon Crocante Extra', price: 5.00 },
            { id: 'cheddar_extra', name: 'Creme de Cheddar Extra', price: 4.50 },
            { id: 'picles', name: 'Picles Artesanal', price: 3.00 },
            { id: 'maionese', name: 'Maionese da Casa (Pote)', price: 3.50 }
        ];

        /* --- ESTADO DA APLICA√á√ÉO --- */
        let cartState = [];
        let currentModalState = { product: null, qty: 1, selectedAddons: [] };
        let activeCategory = 'all';

        /* --- INICIALIZA√á√ÉO --- */
        document.addEventListener('DOMContentLoaded', () => {
            renderCategoriesUI();
            renderMenuUI('all');
        });

        /* --- RENDERIZA√á√ÉO DA UI --- */
        function renderCategoriesUI() {
            const container = document.querySelector('.categories-list');
            container.innerHTML = '';
            categoriesData.forEach(cat => {
                container.innerHTML += `
                    <div class="cat-item ${cat.id === activeCategory ? 'active' : ''}" onclick="handleCategoryClick('${cat.id}')">
                        <div class="cat-img-wrapper">
                            <img src="${cat.image}" class="cat-img" alt="${cat.name}">
                        </div>
                        <span class="cat-name">${cat.name}</span>
                    </div>
                `;
            });
        }

        function renderMenuUI(filterId) {
            const container = document.getElementById('menu-products-list');
            const title = categoriesData.find(c => c.id === filterId)?.name || 'Destaques';
            container.innerHTML = `<h3 class="section-title-heading">${title}</h3>`;
            
            const filteredItems = filterId === 'all' ? menuData : menuData.filter(item => item.category === filterId);

            if(filteredItems.length === 0) {
                container.innerHTML += `<p style="color: var(--text-medium); padding: 20px 0;">Nenhum item nesta categoria.</p>`;
                return;
            }

            filteredItems.forEach(item => {
                container.innerHTML += `
                    <div class="product-card-item" onclick="openProductModal(${item.id})">
                        <div class="prod-info-block">
                            <div class="prod-title-text">${item.title}</div>
                            <div class="prod-desc-text">${item.description}</div>
                            <div class="prod-price-text">
                                <span>R$ ${formatPrice(item.price)}</span>
                            </div>
                        </div>
                        <div class="prod-image-block">
                            <img src="${item.image}" alt="${item.title}">
                        </div>
                    </div>
                `;
            });
        }

        /* --- INTERA√á√ïES DO USU√ÅRIO --- */
        function handleCategoryClick(catId) {
            activeCategory = catId;
            renderCategoriesUI(); // Atualiza visual "active"
            renderMenuUI(catId);
        }

        function switchMainTab(tabName) {
            // Atualiza visual da navega√ß√£o
            document.querySelectorAll('.nav-tab-item').forEach(el => el.classList.remove('active'));
            event.currentTarget.classList.add('active');

            const homeScreen = document.getElementById('home-tab-screen');
            const profileScreen = document.getElementById('profile-tab-screen');

            if(tabName === 'home') {
                homeScreen.style.display = 'block';
                profileScreen.style.display = 'none';
                window.scrollTo(0,0);
            } else if (tabName === 'profile') {
                homeScreen.style.display = 'none';
                profileScreen.style.display = 'block';
            }
            // Outras abas s√£o apenas visuais neste exemplo
        }

        /* --- L√ìGICA DO MODAL DE PRODUTO --- */
        function openProductModal(productId) {
            const product = menuData.find(p => p.id === productId);
            if (!product) return;

            // Resetar estado do modal
            currentModalState = { product: product, qty: 1, selectedAddons: [] };
            
            // Popular UI do modal
            document.getElementById('modal-hero-image').src = product.image;
            document.getElementById('modal-prod-title').innerText = product.title;
            document.getElementById('modal-prod-desc').innerText = product.description;
            document.getElementById('modal-base-price-hidden').innerText = product.price;
            document.getElementById('modal-qty-display').innerText = 1;
            document.getElementById('modal-obs-textarea').value = '';

            // Renderizar lista de adicionais com checkbox customizado
            const addonsListContainer = document.getElementById('addons-options-list');
            addonsListContainer.innerHTML = '';
            addonsData.forEach(addon => {
                addonsListContainer.innerHTML += `
                    <label class="addon-option-item" for="addon-${addon.id}">
                        <div class="addon-label-group">
                            <input type="checkbox" id="addon-${addon.id}" style="display:none;" onchange="handleModalAddonToggle('${addon.id}', ${addon.price}, this.checked)">
                            <div class="custom-checkbox">
                                <i class="fas fa-check"></i>
                            </div>
                            <span class="addon-name">${addon.name}</span>
                        </div>
                        <div class="addon-price-tag">+ R$ ${formatPrice(addon.price)}</div>
                    </label>
                `;
            });

            recalculateModalTotal();
            
            // Mostrar Modal com anima√ß√£o
            const overlay = document.getElementById('product-modal-overlay');
            overlay.style.display = 'flex';
            // Timeout pequeno para permitir que o display:flex seja aplicado antes da opacidade (para transi√ß√£o funcionar)
            setTimeout(() => { overlay.classList.add('active'); }, 10);
            document.body.style.overflow = 'hidden'; // Travar scroll do fundo
        }

        function closeModalAction() {
            const overlay = document.getElementById('product-modal-overlay');
            overlay.classList.remove('active');
            setTimeout(() => { 
                overlay.style.display = 'none'; 
                document.body.style.overflow = 'auto'; // Destravar scroll
            }, 300); // Tempo da transi√ß√£o CSS
        }

        function changeModalQty(change) {
            const newQty = currentModalState.qty + change;
            if (newQty >= 1) {
                currentModalState.qty = newQty;
                document.getElementById('modal-qty-display').innerText = newQty;
                recalculateModalTotal();
            }
        }

        function handleModalAddonToggle(addonId, price, isChecked) {
            if (isChecked) {
                const addonObj = addonsData.find(a => a.id === addonId);
                currentModalState.selectedAddons.push(addonObj);
            } else {
                currentModalState.selectedAddons = currentModalState.selectedAddons.filter(a => a.id !== addonId);
            }
            recalculateModalTotal();
        }

        function recalculateModalTotal() {
            const basePrice = currentModalState.product.price;
            const addonsTotal = currentModalState.selectedAddons.reduce((sum, addon) => sum + addon.price, 0);
            const finalItemPrice = (basePrice + addonsTotal) * currentModalState.qty;
            
            document.getElementById('modal-total-btn-price').innerText = `R$ ${formatPrice(finalItemPrice)}`;
        }

        /* --- L√ìGICA DO CARRINHO --- */
        function confirmAddToCart() {
            const obs = document.getElementById('modal-obs-textarea').value.trim();
            const basePrice = currentModalState.product.price;
            const addonsTotal = currentModalState.selectedAddons.reduce((sum, addon) => sum + addon.price, 0);
            const finalItemTotal = (basePrice + addonsTotal) * currentModalState.qty;

            // Criar identificador √∫nico para agrupar itens id√™nticos no carrinho (opcional, mas boa pr√°tica)
            // Para simplificar este exemplo, vou apenas adicionar como novo item.
            
            cartState.push({
                product: currentModalState.product,
                qty: currentModalState.qty,
                addons: [...currentModalState.selectedAddons], // Copiar array
                obs: obs,
                itemTotalValue: finalItemTotal
            });

            updateCartFloatingBarUI();
            closeModalAction();

            // Feedback visual (vibra√ß√£o/pulso na barra)
            const cartBar = document.getElementById('floating-cart-bar');
            cartBar.style.transform = 'translateX(-50%) scale(1.05)';
            setTimeout(() => { cartBar.style.transform = 'translateX(-50%) scale(1)'; }, 200);
        }

        function updateCartFloatingBarUI() {
            const totalItems = cartState.reduce((sum, item) => sum + item.qty, 0);
            const totalValue = cartState.reduce((sum, item) => sum + item.itemTotalValue, 0);

            document.getElementById('cart-count-badge').innerText = totalItems;
            document.getElementById('cart-total-badge').innerText = `R$ ${formatPrice(totalValue)}`;
            
            const cartBar = document.getElementById('floating-cart-bar');
            if (totalItems > 0) {
                cartBar.classList.add('visible');
            } else {
                cartBar.classList.remove('visible');
            }
        }

        /* --- L√ìGICA DE CHECKOUT --- */
        function openCheckoutScreen() {
            renderCheckoutCartList();
            const checkoutScreen = document.getElementById('checkout-overlay-screen');
            checkoutScreen.style.display = 'flex';
            setTimeout(() => { checkoutScreen.classList.add('active'); }, 10);
            document.body.style.overflow = 'hidden';
        }

        function closeCheckoutScreen() {
            const checkoutScreen = document.getElementById('checkout-overlay-screen');
            checkoutScreen.classList.remove('active');
            setTimeout(() => { 
                checkoutScreen.style.display = 'none';
                document.body.style.overflow = 'auto';
            }, 300);
        }

        function renderCheckoutCartList() {
            const container = document.getElementById('checkout-cart-list');
            container.innerHTML = '';
            let subtotal = 0;

            if(cartState.length === 0) {
                container.innerHTML = '<p style="color: var(--text-medium);">Sua sacola est√° vazia.</p>';
                updateCheckoutTotals(0);
                return;
            }

            cartState.forEach((item, index) => {
                subtotal += item.itemTotalValue;
                
                let addonsHtml = '';
                if(item.addons.length > 0) {
                    addonsHtml = `<div style="font-size: 0.85rem; color: var(--text-medium); margin-top: 4px;">+ ${item.addons.map(a => a.name).join(', ')}</div>`;
                }
                
                let obsHtml = '';
                if(item.obs) {
                    obsHtml = `<div style="font-size: 0.85rem; color: var(--text-dark); background: #f9f9f9; padding: 6px; border-radius: 4px; margin-top: 8px; font-style: italic;">"Obs: ${item.obs}"</div>`;
                }

                container.innerHTML += `
                    <div class="cart-product-row">
                        <div style="flex: 1; padding-right: 10px;">
                            <div style="display: flex; gap: 8px; align-items: flex-start;">
                                <span style="font-weight: 700; color: var(--text-dark); min-width: 25px;">${item.qty}x</span>
                                <div>
                                    <span style="font-weight: 500; color: var(--text-dark);">${item.product.title}</span>
                                    ${addonsHtml}
                                    ${obsHtml}
                                </div>
                            </div>
                        </div>
                        <div style="font-weight: 600; color: var(--text-dark);">R$ ${formatPrice(item.itemTotalValue)}</div>
                    </div>
                `;
            });

            updateCheckoutTotals(subtotal);
        }

        function updateCheckoutTotals(subtotal) {
            document.getElementById('checkout-subtotal').innerText = `R$ ${formatPrice(subtotal)}`;
            // Taxa de entrega √© gr√°tis neste exemplo
            document.getElementById('checkout-total-final').innerText = `R$ ${formatPrice(subtotal)}`;
        }

        function finalizeOrderWhatsApp() {
            if(cartState.length === 0) return;

            let msg = `*NOVO PEDIDO - GENU√çNO BURGUER* üçî\n\n`;
            
            cartState.forEach((item, i) => {
                msg += `*${item.qty}x ${item.product.title}*\n`;
                if(item.addons.length > 0) {
                    msg += `   + ${item.addons.map(a => a.name).join(', ')}\n`;
                }
                if(item.obs) {
                    msg += `   üìù Obs: ${item.obs}\n`;
                }
                msg += `   Valor item: R$ ${formatPrice(item.itemTotalValue)}\n`;
                msg += `--------------------\n`;
            });
            
            const totalValue = cartState.reduce((sum, item) => sum + item.itemTotalValue, 0);
            msg += `\n*VALOR TOTAL: R$ ${formatPrice(totalValue)}*\n`;
            msg += `Taxa de entrega: Gr√°tis\n\n`;
            
            msg += `üìç *Endere√ßo de Entrega:*\n`;
            msg += `BH Shopping - Belo Horizonte, MG\n\n`;
            msg += `üí≥ *Forma de Pagamento:*\n`;
            msg += `A combinar na entrega.`;

            // --- CONFIGURA√á√ÉO DO SEU N√öMERO AQUI ---
            const phoneNumber = "5531999999999"; // SEU N√öMERO COM DDD (Ex: 5531988887777)
            
            const encodedMsg = encodeURIComponent(msg);
            window.open(`https://wa.me/${phoneNumber}?text=${encodedMsg}`, '_blank');
        }

        /* --- HELPER FUNCTIONS --- */
        function formatPrice(value) {
            return value.toFixed(2).replace('.', ',');
        }
    </script>
</body>
</html>
